<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
        layout:decorator="layout"
>
    <head>
        <title>Requirement summary page</title>
    </head>
    <body>
        <h1 class="header" layout:fragment="header" th:text="'SVT Test requirement summary page'">SVT Test summary page</h1>
		<div layout:fragment="content">

    <section>
        <style>
            
        </style>

        <h1 th:text="'Todays testing for requirement: ' + ${requirement.testRequirement}">Today's testing for requirement:</h1>
        
        The requirement has been tested <span th:text="${requirement.numberOfRuns}"></span> times.
        
        The requirement is <span th:text="${requirement.unstable}?'un':''"></span>stable as it has a success ratio of <span th:text="${requirement.successrate}"></span>%.
        
        Of these tests <span th:text="${requirement.numberOfFailes}"></span> failed which gives a 
        success ratio of <span th:text="${requirement.successrate}"></span>%.
        Last success was <span th:text="${requirement.lastSuccessStr}"></span>.
        Last failure was <span th:text="${requirement.lastFailStr}"></span>.
        Longest consecutive run was <span th:text="${requirement.longestConsecutiveSuccess}"></span> successes in a row. 
        The test first run <span th:text="${requirement.firstTested}"></span>, and last run <span th:text="${requirement.lastFailStr}"></span>.
        
        <table class="requirementsummary">
            <colgroup><col/><col/><col/><col/><col/></colgroup>
            <tbody>
            <th>
                <td>platform</td>
                <td>browser</td>
                <td>success</td>
                <td>time</td>
            </th>
            
            <th:block th:each="result : ${requirement.results}">
                <tr >
                	<td class="rowheader"></td>
                	<td th:text="${result.platform.name}"></td>
                	<td th:text="${result.browser.name}"></td>
                	<td th:text="${result.status}"></td>
                	<td th:text="${result.startTimeStr}"></td>
                </tr>
            </th:block>
            


            </tbody>

        </table>

    </section>

</div>
    </body>
</html>